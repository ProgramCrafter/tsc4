int tuple_length(tuple) asm "TLEN";
int asm::ubitsize(int) asm "UBITSIZE";
forall X, Y -> X unsafe::transmute(Y) asm "NOP";
(slice, ()) load_next(slice) asm "LDREFRTOS NIP";
forall X, Y -> (X, Y) impure_touch_dup(X, Y) impure asm "NOP";
(builder, ()) ~store_slice(builder b, slice s) asm "STSLICER";

() recv_internal() { }

{-
  TASK 5 - Fibonacci sequence
  Implement a function that generates the Fibonacci
  sequence from N to N+K terms (0<=N<=370; 0<=N+K<=370; 0<=K<=255).
  The first two terms of the Fibonacci sequence are F_0 = 0 and F_1 = 1,
  and the rest are defined as F_n = F_(n-1) + F_(n-2).
  The resulting Fibonacci sequence should be stored in a tuple.
  For example, a request with N = 1 and K = 3 should return a tuple [1, 1, 2],
  and a request with N = 201 and K = 4 should return a tuple
  [453973694165307953197296969697410619233826,
  734544867157818093234908902110449296423351,
  1188518561323126046432205871807859915657177,
  1923063428480944139667114773918309212080528]
-}

slice fibonacci_generator() asm
  "B{B5EE9C720102BA0100407E0001AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000006F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000016F8C0101AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000016F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000026F8C0201AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000036F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000056F8C0301AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000086F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000000000D6F8C0401AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000156F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000226F8C0501AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000376F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000596F8C0601AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000906F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000000E96F8C0701AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000001796F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000002626F8C0801AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000003DB6F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000000063D6F8C0901AC206F888407B2DD82F00000000000000000000000000000000000000000000000000000000000000A186F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000010556F8C0A01AC206F888407B2DD82F00000000000000000000000000000000000000000000000000000000000001A6D6F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000000000002AC26F8C0B01AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000000452F6F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000000000006FF16F8C0C01AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000000B5206F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000125116F8C0D01AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000001DA316F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000002FF426F8C0E01AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000004D9736F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000007D8B56F8C0F01AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000000CB2286F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000000000148ADD6F8C1001AC206F888407B2DD82F00000000000000000000000000000000000000000000000000000000000213D056F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000035C7E26F8C1101AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000005704E76F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000008CCCC96F8C1201AC206F888407B2DD82F00000000000000000000000000000000000000000000000000000000000E3D1B06F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000000001709E796F8C1301AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000000025470296F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000000003C50EA26F8C1401AC206F888407B2DD82F00000000000000000000000000000000000000000000000000000000006197ECB6F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000000009DE8D6D6F8C1501AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000000000FF80C386F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000000019D699A56F8C1601AC206F888407B2DD82F00000000000000000000000000000000000000000000000000000000029CEA5DD6F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000000043A53F826F8C1701AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000000006D73E55F6F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000000B11924E16F8C1801AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000000011E8D0A406F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000001CFA62F216F8C1901AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000002EE3339616F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000004BDD968826F8C1A01AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000007AC0CA1E36F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000000C69E60A656F8C1B01AC206F888407B2DD82F00000000000000000000000000000000000000000000000000000001415F2AC486F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000000207FD8B6AD6F8C1C01AC206F888407B2DD82F00000000000000000000000000000000000000000000000000000003495CB62F56F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000000005515A419A26F8C1D01AC206F888407B2DD82F000000000000000000000000000000000000000000000000000000089AB6F7C976F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000000DEC11396396F8C1E01AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000001686C8312D06F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000002472D96A9096F8C1F01AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000003AF9A19BBD96F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000005F6C7B064E26F8C2001AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000009A661CA20BB6F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000000F9D297A859D6F8C2101AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000019438B44A6586F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000028E0B4BF2BF56F8C2201AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000042244003D24D6F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000006B04F4C2FE426F8C2301AC206F888407B2DD82F00000000000000000000000000000000000000000000000000000AD2934C6D08F6F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000001182E2989CED16F8C2401AC206F888407B2DD82F00000000000000000000000000000000000000000000000000001C5575E509F606F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000002DD8587DA6E316F8C2501AC206F888407B2DD82F00000000000000000000000000000000000000000000000000004A2DCE62B0D916F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000000780626E057BC26F8C2601AC206F888407B2DD82F0000000000000000000000000000000000000000000000000000C233F543089536F8C206F888407B2DD82F00000000000000000000000000000000000000000000000000013A3A1C23605156F8C2701AC206F888407B2DD82F0000000000000000000000000000000000000000000000000001FC6E116668E686F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000336A82D89C937D6F8C2801AC206F888407B2DD82F000000000000000000000000000000000000000000000000000533163EF0321E56F8C206F888407B2DD82F000000000000000000000000000000000000000000000000000869BE6C79FB5626F8C2901AC206F888407B2DD82F000000000000000000000000000000000000000000000000000D9CD4AB6A2D7476F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000016069317E428CA96F8C2A01AC206F888407B2DD82F0000000000000000000000000000000000000000000000000023A367C34E563F06F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000039A9FADB327F0996F8C2B01AC206F888407B2DD82F000000000000000000000000000000000000000000000000005D4D629E80D54896F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000096F75D79B3545226F8C2C01AC206F888407B2DD82F00000000000000000000000000000000000000000000000000F444C01834299AB6F8C206F888407B2DD82F000000000000000000000000000000000000000000000000018B3C1D91E77DECD6F8C2D01AC206F888407B2DD82F000000000000000000000000000000000000000000000000027F80DDAA1BA78786F8C206F888407B2DD82F000000000000000000000000000000000000000000000000040ABCFB3C03257456F8C2E01AC206F888407B2DD82F000000000000000000000000000000000000000000000000068A3DD8E61ECCFBD6F8C206F888407B2DD82F0000000000000000000000000000000000000000000000000A94FAD42221F27026F8C2F01AC206F888407B2DD82F000000000000000000000000000000000000000000000000111F38AD0840BF6BF6F8C206F888407B2DD82F0000000000000000000000000000000000000000000000001BB433812A62B1DC16F8C3001AC206F888407B2DD82F0000000000000000000000000000000000000000000000002CD36C2E32A3714806F8C206F888407B2DD82F00000000000000000000000000000000000000000000000048879FAF5D06232416F8C3101AC206F888407B2DD82F000000000000000000000000000000000000000000000000755B0BDD8FA9946C16F8C206F888407B2DD82F000000000000000000000000000000000000000000000000BDE2AB8CECAFB79026F8C3201AC206F888407B2DD82F000000000000000000000000000000000000000000000001333DB76A7C594BFC36F8C206F888407B2DD82F000000000000000000000000000000000000000000000001F12062F76909038C56F8C3301AC206F888407B2DD82F000000000000000000000000000000000000000000000003245E1A61E5624F8886F8C206F888407B2DD82F000000000000000000000000000000000000000000000005157E7D594E6B5314D6F8C3401AC206F888407B2DD82F00000000000000000000000000000000000000000000000839DC97BB33CDA29D56F8C206F888407B2DD82F00000000000000000000000000000000000000000000000D4F5B15148238F5B226F8C3501AC206F888407B2DD82F0000000000000000000000000000000000000000000000158937ACCFB606984F76F8C206F888407B2DD82F000000000000000000000000000000000000000000000022D892C1E4383F8E0196F8C3601AC206F888407B2DD82F00000000000000000000000000000000000000000000003861CA6EB3EE46265106F8C206F888407B2DD82F00000000000000000000000000000000000000000000005B3A5D30982685B45296F8C3701AC206F888407B2DD82F0000000000000000000000000000000000000000000000939C279F4C14CBDAA396F8C206F888407B2DD82F0000000000000000000000000000000000000000000000EED684CFE43B518EF626F8C3801AC206F888407B2DD82F00000000000000000000000000000000000000000000018272AC6F30501D6999B6F8C206F888407B2DD82F00000000000000000000000000000000000000000000027149313F148B6EF88FD6F8C3901AC206F888407B2DD82F0000000000000000000000000000000000000000000003F3BBDDAE44DB8C622986F8C206F888407B2DD82F000000000000000000000000000000000000000000000665050EED5966FB5AB956F8C3A01AC206F888407B2DD82F000000000000000000000000000000000000000000000A58C0EC9B9E4287BCE2D6F8C206F888407B2DD82F0000000000000000000000000000000000000000000010BDC5FB88F7A983179C26F8C3B01AC206F888407B2DD82F000000000000000000000000000000000000000000001B1686E82495EC0AD47EF6F8C206F888407B2DD82F000000000000000000000000000000000000000000002BD44CE3AD8D958DEC1B16F8C3C01AC206F888407B2DD82F0000000000000000000000000000000000000000000046EAD3CBD2238198C09A06F8C206F888407B2DD82F0000000000000000000000000000000000000000000072BF20AF7FB11726ACB516F8C3D01AC206F888407B2DD82F00000000000000000000000000000000000000000000B9A9F47B51D498BF6D4F16F8C206F888407B2DD82F000000000000000000000000000000000000000000012C69152AD185AFE61A0426F8C3E01AC206F888407B2DD82F00000000000000000000000000000000000000000001E61309A6235A48A5875336F8C206F888407B2DD82F00000000000000000000000000000000000000000003127C1ED0F4DFF88BA15756F8C3F01AC206F888407B2DD82F00000000000000000000000000000000000000000004F88F2877183A413128AA86F8C206F888407B2DD82F000000000000000000000000000000000000000000080B0B47480D1A39BCCA01D6F8C4001AC206F888407B2DD82F0000000000000000000000000000000000000000000D039A6FBF25547AEDF2AC56F8C206F888407B2DD82F000000000000000000000000000000000000000000150EA5B707326EB4AABCAE26F8C4101AC206F888407B2DD82F00000000000000000000000000000000000000000022124026C657C32F98AF5A76F8C206F888407B2DD82F0000000000000000000000000000000000000000003720E5DDCD8A31E4436C0896F8C4201AC206F888407B2DD82F0000000000000000000000000000000000000000005933260493E1F513DC1B6306F8C206F888407B2DD82F00000000000000000000000000000000000000000090540BE2616C26F81F876B96F8C4301AC206F888407B2DD82F000000000000000000000000000000000000000000E98731E6F54E1C0BFBA2CE96F8C206F888407B2DD82F00000000000000000000000000000000000000000179DB3DC956BA43041B2A3A26F8C4401AC206F888407B2DD82F00000000000000000000000000000000000000000263626FB04C085F1016CD08B6F8C206F888407B2DD82F000000000000000000000000000000000000000003DD3DAD79A2C2A21431F742D6F8C4501AC206F888407B2DD82F00000000000000000000000000000000000000000640A01D29EECB012448C44B86F8C206F888407B2DD82F00000000000000000000000000000000000000000A1DDDCAA3918DA3387ABB8E56F8C4601AC206F888407B2DD82F0000000000000000000000000000000000000000105E7DE7CD8058A45CC37FD9D6F8C206F888407B2DD82F00000000000000000000000000000000000000001A7C5BB27111E647953E3B6826F8C4701AC206F888407B2DD82F00000000000000000000000000000000000000002ADAD99A3E923EEBF201BB41F6F8C206F888407B2DD82F00000000000000000000000000000000000000004557354CAFA42533873FF6AA16F8C4801AC206F888407B2DD82F000000000000000000000000000000000000000070320EE6EE36641F7941B1EC06F8C206F888407B2DD82F0000000000000000000000000000000000000000B58944339DDA89530081A89616F8C4901AC206F888407B2DD82F000000000000000000000000000000000000000125BB531A8C10ED7279C35A8216F8C206F888407B2DD82F0000000000000000000000000000000000000001DB44974E29EB76C57A45031826F8C4A01AC206F888407B2DD82F000000000000000000000000000000000000000300FFEA68B5FC6437F4085D9A36F8C206F888407B2DD82F0000000000000000000000000000000000000004DC4481B6DFE7DAFD6E4D60B256F8C4B01AC206F888407B2DD82F0000000000000000000000000000000000000007DD446C1F95E43F356255BE4C86F8C206F888407B2DD82F000000000000000000000000000000000000000CB988EDD675CC1A32D0A31EFED6F8C4C01AC206F888407B2DD82F000000000000000000000000000000000000001496CD59F60BB0596832F8DD4B56F8C206F888407B2DD82F0000000000000000000000000000000000000021505647CC817C739B039BFC4A26F8C4D01AC206F888407B2DD82F0000000000000000000000000000000000000035E723A1C28D2CCD033694D99576F8C206F888407B2DD82F00000000000000000000000000000000000000573779E98F0EA9409E3A30D5DF96F8C4E01AC206F888407B2DD82F000000000000000000000000000000000000008D1E9D8B519BD60DA170C5AF7506F8C206F888407B2DD82F00000000000000000000000000000000000000E4561774E0AA7F4E3FAAF6855496F8C4F01AC206F888407B2DD82F000000000000000000000000000000000000017174B5003246555BE11BBC34C996F8C206F888407B2DD82F0000000000000000000000000000000000000255CACC7512F0D4AA20C6B2BA1E26F8C5001AC206F888407B2DD82F00000000000000000000000000000000000003C73F817545372A0601E26EEEE7B6F8C206F888407B2DD82F000000000000000000000000000000000000061D0A4DEA5827FEB022A921A905D6F8C5101AC206F888407B2DD82F00000000000000000000000000000000000009E449CF5F9D5F28B6248B9097ED86F8C206F888407B2DD82F0000000000000000000000000000000000001001541D49F58727664734B240F356F8C5201AC206F888407B2DD82F00000000000000000000000000000000000019E59DECA992E6501C6BC042D8E0D6F8C206F888407B2DD82F00000000000000000000000000000000000029E6F209F3886D7782B2F4F519D426F8C5301AC206F888407B2DD82F00000000000000000000000000000000000043CC8FF69D1B53C79F1EB537F2B4F6F8C206F888407B2DD82F0000000000000000000000000000000000006DB3820090A3C13F21D1AA2D0C8916F8C5401AC206F888407B2DD82F000000000000000000000000000000000000B18011F72DBF1506C0F05F64FF3E06F8C206F888407B2DD82F0000000000000000000000000000000000011F3393F7BE62D645E2C209920BC716F8C5501AC206F888407B2DD82F000000000000000000000000000000000001D0B3A5EEEC21EB4CA3B268F70B0516F8C206F888407B2DD82F000000000000000000000000000000000002EFE739E6AA84C1928674728916CC26F8C5601AC206F888407B2DD82F000000000000000000000000000000000004C09ADFD596A6ACDF2A26DB8021D136F8C206F888407B2DD82F000000000000000000000000000000000007B08219BC412B6E71B09B4E09389D56F8C5701AC206F888407B2DD82F00000000000000000000000000000000000C711CF991D7D21B50DAC229895A6E86F8C206F888407B2DD82F000000000000000000000000000000000014219F134E18FD89C28B5D7792930BD6F8C5801AC206F888407B2DD82F00000000000000000000000000000000002092BC0CDFF0CFA513661FA11BED7A56F8C206F888407B2DD82F000000000000000000000000000000000034B45B202E09CD2ED5F17D18AE808626F8C5901AC206F888407B2DD82F00000000000000000000000000000000005547172D0DFA9CD3E9579CB9CA6E0076F8C206F888407B2DD82F000000000000000000000000000000000089FB724D3C046A02BF4919D278EE8696F8C5A01AC206F888407B2DD82F0000000000000000000000000000000000DF42897A49FF06D6A8A0B68C435C8706F8C206F888407B2DD82F0000000000000000000000000000000001693DFBC7860370D967E9D05EBC4B0D96F8C5B01AC206F888407B2DD82F000000000000000000000000000000000248808541D00277B0108A86EAFFA79496F8C206F888407B2DD82F0000000000000000000000000000000003B1BE81095605E88978745749BBF2A226F8C5C01AC206F888407B2DD82F0000000000000000000000000000000005FA3F064B2608603988FEDE34BB9A36B6F8C206F888407B2DD82F0000000000000000000000000000000009ABFD87547C0E48C30173357E778CD8D6F8C5D01AC206F888407B2DD82F000000000000000000000000000000000FA63C8D9FA216A8FC8A7213B333270F86F8C206F888407B2DD82F0000000000000000000000000000000019523A14F41E24F1BF8BE54931AAB3E856F8C5E01AC206F888407B2DD82F0000000000000000000000000000000028F876A293C03B9ABC16575CE4DDDAF7D6F8C206F888407B2DD82F00000000000000000000000000000000424AB0B787DE608C7BA23CA616888EE026F8C5F01AC206F888407B2DD82F000000000000000000000000000000006B43275A1B9E9C2737B89402FB6669D7F6F8C206F888407B2DD82F00000000000000000000000000000000AD8DD811A37CFCB3B35AD0A911EEF8B816F8C6001AC206F888407B2DD82F0000000000000000000000000000000118D0FF6BBF1B98DAEB1364AC0D55629006F8C206F888407B2DD82F00000000000000000000000000000001C65ED77D6298958E9E6E35551F445B4816F8C6101AC206F888407B2DD82F00000000000000000000000000000002DF2FD6E921B42E6989819A012C99BDD816F8C206F888407B2DD82F00000000000000000000000000000004A58EAE66844CC3F827EFCF564BDE192026F8C6201AC206F888407B2DD82F0000000000000000000000000000000784BE854FA600F261B17169577877D6F836F8C206F888407B2DD82F0000000000000000000000000000000C2A4D33B62A4DB659D96138ADC455F01856F8C6301AC206F888407B2DD82F00000000000000000000000000000013AF0BB905D04EA8BB8AD2A2053CCDC71086F8C206F888407B2DD82F0000000000000000000000000000001FD958ECBBFA9C5F156433DAB30123B728D6F8C6401AC206F888407B2DD82F000000000000000000000000000000338864A5C1CAEB07D0EF067CB83DF17E3956F8C206F888407B2DD82F0000000000000000000000000000005361BD927DC58766E6533A576B3F15356226F8C6501AC206F888407B2DD82F00000000000000000000000000000086EA22383F90726EB74240D4237D06B39B76F8C206F888407B2DD82F000000000000000000000000000000DA4BDFCABD55F9D59D957B2B8EBC1BE8FD96F8C6601AC206F888407B2DD82F00000000000000000000000000000161360202FCE66C4454D7BBFFB239229C9906F8C206F888407B2DD82F0000000000000000000000000000023B81E1CDBA3C6619F26D372B40F53E859696F8C6701AC206F888407B2DD82F0000000000000000000000000000039CB7E3D0B722D25E4744F32AF32E61222F96F8C206F888407B2DD82F000000000000000000000000000005D839C59E715F387839B22A5634239FA7C626F8C6801AC206F888407B2DD82F00000000000000000000000000000974F1A96F28820AD680F71D81275200C9F5B6F8C206F888407B2DD82F00000000000000000000000000000F4D2B6F0D99E1434EBAA947D75B75A071BBD6F8C6901AC206F888407B2DD82F000000000000000000000000000018C21D187CC2634E253BA0655882C7A13BB186F8C206F888407B2DD82F0000000000000000000000000000280F48878A5C449173F649AD2FDE3D41AD6D56F8C6A01AC206F888407B2DD82F000000000000000000000000000040D165A0071EA7DF9931EA12886104E2E91ED6F8C206F888407B2DD82F000000000000000000000000000068E0AE27917AEC710D2833BFB83F4224968C26F8C6B01AC206F888407B2DD82F0000000000000000000000000000A9B213C798999450A65A1DD240A047077FAAF6F8C206F888407B2DD82F00000000000000000000000000011292C1EF2A1480C1B3825191F8DF892C163716F8C6C01AC206F888407B2DD82F0000000000000000000000000001BC44D5B6C2AE151259DC6F64397FD03395E206F8C206F888407B2DD82F0000000000000000000000000002CED797A5ECC295D40D5EC0F6325F595FAC1916F8C6D01AC206F888407B2DD82F00000000000000000000000000048B1C6D5CAF70AAE6673B305A6BDF299341FB16F8C206F888407B2DD82F000000000000000000000000000759F405029C3340BA7499F1509E3E82F2EE1426F8C6E01AC206F888407B2DD82F000000000000000000000000000BE510725F4BA3EBA0DBD521AB0A1DAC86300F36F8C206F888407B2DD82F00000000000000000000000000133F047761E7D72C5B506F12FBA85C2F791E2356F8C6F01AC206F888407B2DD82F000000000000000000000000001F2414E9C1337B17FC2C4434A6B279DBFF4E3286F8C206F888407B2DD82F0000000000000000000000000032631961231B5244577CB347A25AD60B786C55D6F8C7001AC206F888407B2DD82F0000000000000000000000000051872E4AE44ECD5C53A8F77C490D4FE777BA8856F8C206F888407B2DD82F0000000000000000000000000083EA47AC076A1FA0AB25AAC3EB6825F2F026DE26F8C7101AC206F888407B2DD82F00000000000000000000000000D57175F6EBB8ECFCFECEA240347575DA67E16676F8C206F888407B2DD82F00000000000000000000000001595BBDA2F3230C9DA9F44D041FDD9BCD58084496F8C7201AC206F888407B2DD82F000000000000000000000000022ECD3399DEDBF99AA8C2EF44545311A7BFE9AB06F8C206F888407B2DD82F000000000000000000000000038828F13CD1FF063852B73C487430AD7517F1EF96F8C7301AC206F888407B2DD82F00000000000000000000000005B6F624D6B0DAFFD2FB7A2B8CC883BF1CD7DB9A96F8C206F888407B2DD82F000000000000000000000000093F1F161382DA060B4E3167D53CB46C91EFCD8A26F8C7401AC206F888407B2DD82F0000000000000000000000000EF6153AEA33B505DE49AB936205382BAEC7A924B6F8C206F888407B2DD82F00000000000000000000000018353450FDB68F0BE997DCFB3741EC9840B776AED6F8C7501AC206F888407B2DD82F000000000000000000000000272B498BE7EA4411C7E1888E994724C3EF7F1FD386F8C206F888407B2DD82F0000000000000000000000003F607DDCE5A0D31DB1796589D089115C3036968256F8C7601AC206F888407B2DD82F000000000000000000000000668BC768CD8B172F795AEE1869D036201FB5B655D6F8C206F888407B2DD82F000000000000000000000000A5EC4545B32BEA4D2AD453A23A59477C4FEC4CD826F8C7701AC206F888407B2DD82F0000000000000000000000010C780CAE80B7017CA42F41BAA4297D9C6FA2032DF6F8C206F888407B2DD82F000000000000000000000001B26451F433E2EBC9CF03955CDE82C518BF8E500616F8C7801AC206F888407B2DD82F000000000000000000000002BEDC5EA2B499ED467332D71782AC42B52F30533406F8C206F888407B2DD82F0000000000000000000000047140B096E87CD91042366C74612F07CDEEBEA33A16F8C7901AC206F888407B2DD82F000000000000000000000007301D0F399D16C656B569438BE3DB4A831DEEF66E16F8C206F888407B2DD82F00000000000000000000000BA15DBFD085939F66F79FB000450A52510CAD99A826F8C7A01AC206F888407B2DD82F000000000000000000000012D17ACF0A22AA65BDAD08F38C28E59CD42A9C901636F8C206F888407B2DD82F00000000000000000000001E72D88EDAA83E0524A4A8A38C6DEFEF25374A29BE56F8C7B01AC206F888407B2DD82F00000000000000000000003144535DE4CAE86AE251B1971896D58BF961E6B9D486F8C206F888407B2DD82F00000000000000000000004FB72BECBF73267006F65A3AA504C57B1E9930E392D6F8C7C01AC206F888407B2DD82F000000000000000000000080FB7F4AA43E0EDAE9480BD1BD9B9B0717FB179D6756F8C206F888407B2DD82F0000000000000000000000D0B2AB3763B1354AF03E660C62A0608236944880FA26F8C7D01AC206F888407B2DD82F000000000000000000000151AE2A8207EF4425D98671DE203BFB894E8F601E6176F8C206F888407B2DD82F00000000000000000000022260D5B96BA07970C9C4D7EA82DC5C0B8523A89F5B96F8C7E01AC206F888407B2DD82F0000000000000000000003740F003B738FBD96A34B49C8A3185794D3B308BDBD06F8C206F888407B2DD82F0000000000000000000005966FD5F4DF3037076D1021B325F4B3A058D6B15D1896F8C7F01AC206F888407B2DD82F00000000000000000000090A7ED63052BFF49E105B6B7BC90D0B352C89BA1AD596F8C206F888407B2DD82F000000000000000000000EA0EEAC2531F02BA57D6B8D2EEF01BED585606B77EE26F8C8001AC206F888407B2DD82F0000000000000000000017AB6D825584B020438DC6F8AAB80ECA0AB1EA2592C3B6F8C206F888407B2DD82F00000000000000000000264C5C2E7AB6A04BE90B3285D9A71088E0374A910AB1D6F8C8101AC206F888407B2DD82F000000000000000000003DF7C9B0D03B506C2C98F97E845F1F52EAE934B69D7586F8C206F888407B2DD82F00000000000000000000644425DF4AF1F0B815A42C045E062FDBCB207F47A82756F8C8201AC206F888407B2DD82F00000000000000000000A23BEF901B2D4124423D2582E2654F2EB609B3FE459CD6F8C206F888407B2DD82F000000000000000000010680156F661F31DC57E15187406B7F0A812A3345EDC426F8C8301AC206F888407B2DD82F00000000000000000001A8BC04FF814C73009A1E770A22D0CE393733E7443360F6F8C206F888407B2DD82F00000000000000000002AF3C1A6EE76BA4DCF1FFC891633C4D43B85E1A8A212516F8C8401AC206F888407B2DD82F0000000000000000000457F81F6E68B817DD8C1E3F9B860D1B7CEF9201CE548606F8C206F888407B2DD82F00000000000000000007073439DD5023BCBA7E1E082CE94968C0A7F01C5875AB16F8C8501AC206F888407B2DD82F0000000000000000000B5F2C594BB8DBD4980A3C47C86F56843D97821E26CA3116F8C206F888407B2DD82F000000000000000000126660932908FF9152885A4FF5589FECFE3F723A7F3FDC26F8C8601AC206F888407B2DD82F0000000000000000001DC58CEC74C1DB65EA929697BDC7F6713BD6F458A60A0D36F8C206F888407B2DD82F000000000000000000302BED7F9DCADAF73D1AF0E7B320965E3A1666932549E956F8C8701AC206F888407B2DD82F0000000000000000004DF17A6C128CB65D27AD877F70E88CCF75ED5AEBCB53F686F8C206F888407B2DD82F0000000000000000007E1D67EBB057915464C878672409232DB003C17EF09DDFD6F8C8801AC206F888407B2DD82F000000000000000000CC0EE257C2E447B18C75FFE694F1AFFD25F11C6ABBF1D656F8C206F888407B2DD82F0000000000000000014A2C4A43733BD905F13E784DB8FAD32AD5F4DDE9AC8FB626F8C8901AC206F888407B2DD82F000000000000000002163B2C9B362020B77DB478344DEC8327FBE5FA5468818C76F8C206F888407B2DD82F000000000000000003606776DEA95BF9BD6EF2F08206E75652D1DAD83E15114296F8C8A01AC206F888407B2DD82F00000000000000000576A2A379DF7C1A74ECA768B654D3D97ACDC0D2927D92CF06F8C206F888407B2DD82F000000000000000008D70A1A5888D814325B9A59385BBB2FCD9F9BAAD092A41196F8C8B01AC206F888407B2DD82F00000000000000000E4DACBDD268542EA74841C1EEB08F09486D5C7D631036E096F8C206F888407B2DD82F00000000000000001724B6D82AF12C42D9A3DC1B270C4A39160CF82833A2DAF226F8C8C01AC206F888407B2DD82F000000000000000025726395FD59807180EC1DDD15BCD9425E7A54A596B311D2B6F8C206F888407B2DD82F00000000000000003C971A6E284AACB45A8FF9F83CC9237B74874CCDCA55ECC4D6F8C8D01AC206F888407B2DD82F000000000000000062097E0425A42D25DB7C17D55285FCBDD301A1736108FE9786F8C206F888407B2DD82F00000000000000009EA098724DEED9DA360C11CD8F4F20394788EE412B5EEB5C56F8C8E01AC206F888407B2DD82F000000000000000100AA167673930700118829A2E1D51CF71A8A8FB48C67E9F3D6F8C206F888407B2DD82F00000000000000019F4AAEE8C181E0DA47943B7071243D3062137DF5B7C6D55026F8C8F01AC206F888407B2DD82F00000000000000029FF4C55F3514E7DA591C651352F95A277C9E0DAA442EBF43F6F8C206F888407B2DD82F00000000000000043F3F7447F696C8B4A0B0A083C41D9757DEB18B9FFBF5949416F8C9001AC206F888407B2DD82F0000000000000006DF3439A72BABB08EF9CD05971716F17F5B4F994A402453D806F8C206F888407B2DD82F000000000000000B1E73ADEF224279439A7DA61ADB3488D73A0124EA3C19E86C16F8C9101AC206F888407B2DD82F0000000000000011FDA7E7964DEE29D2944AABB1F24B7A569550BE347C3E3C4416F8C206F888407B2DD82F000000000000001D1C1B95857030A3162EC851CCCD80032DCF51E31EB85824B026F8C9201AC206F888407B2DD82F000000000000002F19C37D1BBE1ECCE8C312FD7EBFCB7D8464A2A153349660F436F8C206F888407B2DD82F000000000000004C35DF12A12E4F6FFEF1DB4F4B8D4B80B233F48471ECEE85A456F8C9301AC206F888407B2DD82F000000000000007B4FA28FBCEC6E3CE7B4EE4CCA4D16FE36989725C52184E69886F8C206F888407B2DD82F00000000000000C78581A25E1ABDACE6A6C99C15DA627EE8CC8BAA370E736C3CD6F8C9401AC206F888407B2DD82F0000000000000142D524321B072BE9CE5BB7E8E027797D1F6522CFFC2FF852D556F8C206F888407B2DD82F000000000000020A5AA5D47921E996B5028184F601DBFC0831AE7A333E6BBF1226F8C9501AC206F888407B2DD82F000000000000034D2FCA0694291580835E396DD62955792796D14A2F6E6411E776F8C206F888407B2DD82F00000000000005578A6FDB0D4AFF173860BAF2CC2B31752FC87FC462ACCFD0F996F8C9601AC206F888407B2DD82F00000000000008A4BA39E1A1741497BBBEF460A25486EE575F510E921B33E2E106F8C206F888407B2DD82F0000000000000DFC44A9BCAEBF13AEF41FAF536E7FB8638727D0D2F4C803B3DA96F8C9701AC206F888407B2DD82F00000000000016A0FEE39E50332846AFDEA3B410D43F51DE8721E186E33796BB96F8C206F888407B2DD82F000000000000249D438D5AFEF23BF5A3FE53077F53F7B565AEF2B47BAB3B4A9626F8C9801AC206F888407B2DD82F0000000000003B3E4270F94F25643C53DCF6BB9028370744361496028E72E151B6F8C206F888407B2DD82F0000000000005FDB85FE544E17A031F7DB49C30F7C2EBCA9E5074A7E39AE2BE7D6F8C9901AC206F888407B2DD82F0000000000009B19C86F4D9D3D046E4BB8407E9FA465C3EE1B1BE080C8210D3986F8C206F888407B2DD82F000000000000FAF54E6DA1EB54A4A043938A41AF2094809800232AFF01CF392156F8C9A01AC206F888407B2DD82F000000000001960F16DCEF8891A90E8F4BCAC04EC4FA44861B3F0B7FC9F0465AD6F8C206F888407B2DD82F0000000000029104654A9173E64DAED2DF5501FDE58EC51E1B62367ECBBF7F7C26F8C9B01AC206F888407B2DD82F00000000000427137C2780FC77F6BD622B1FC24CAA8909A436A141FE95AFC5D6F6F8C206F888407B2DD82F000000000006B817E17212705E446C350A74C44A9017CEC25203787D616F455316F8C9C01AC206F888407B2DD82F00000000000ADF2B5D99936CD63B2997359486973AA0D86688A4BA7BF71F0B2A06F8C206F888407B2DD82F00000000001197433F0BA5DD347F95CC40094AE1CAB8A728DAA832F9588E507D16F8C9D01AC206F888407B2DD82F00000000001C766E9CA5394A0ABABF63759DD17905597F8F634CED754FAD5BA716F8C206F888407B2DD82F00000000002E0DB1DBB0DF273F3A552FB5A71C5AD01226B83DF5206EA83BAC2426F8C9E01AC206F888407B2DD82F00000000004A84207856187149F514932B44EDD3D56BA647A1420DE3F7E907CB36F8C206F888407B2DD82F00000000007891D25406F798892F69C2E0EC0A2EA57DCCFFDF372E52A024B3EF56F8C9F01AC206F888407B2DD82F0000000000C315F2CC5D1009D3247E560C30F8027AE9734780793C36980DBBBA86F8C206F888407B2DD82F00000000013BA7C5206407A25C53E818ED1D0231206740475FB06A8938326FA9D6F8CA001AC206F888407B2DD82F0000000001FEBDB7ECC117AC2F78666EF94DFA339B50B38EE029A6BFD0402B6456F8C206F888407B2DD82F00000000033A657D0D251F4E8BCC4E87E66AFC64BBB7F3D63FDA114908729B0E26F8CA101AC206F888407B2DD82F0000000005392334F9E636FABB44B4F6DFB8F6985708A7652003B808D8B2C67276F8C206F888407B2DD82F00000000087388B2070B56494711037EC623F2FD12C09B3B5FDDC951E125618096F8CA201AC206F888407B2DD82F000000000DACABE700F18D440255B875A5DCE99569C942A07FE1815AB9D827F306F8C206F888407B2DD82F000000001620349907FCE38D4966BBF46C00DC927C89DDDBDFBF4AAC9AFD897396F8CA301AC206F888407B2DD82F0000000023CCE08008EE70D14BBC746A11DDC627E653207C5FA0CC0754D5B16696F8C206F888407B2DD82F0000000039ED151910EB545E9523305E7DDEA2BA62DCFE583F6016B3EFD33ADA26F8CA401AC206F888407B2DD82F000000005DB9F59919D9C52FE0DFA4C88FBC68E249301ED49F00E2BB44A8EC40B6F8C206F888407B2DD82F0000000097A70AB22AC5198E7602D5270D9B0B9CAC0D1D2CDE60F96F347C271AD6F8CA501AC206F888407B2DD82F00000000F561004B449EDEBE56E279EF9D57747EF53D3C017D61DC2A7925135B86F8C206F888407B2DD82F000000018D080AFD6F63F84CCCE54F16AAF2801BA14A592E5BC2D599ADA13A7656F8CA601AC206F888407B2DD82F0000000282690B48B402D70B23C7C9064849F49A9687952FD924B1C426C64DD1D6F8C206F888407B2DD82F000000040F7116462366CF57F0AD181CF33C74B637D1EE5E34E7875DD467884826F8CA701AC206F888407B2DD82F0000000691DA218ED769A6631474E1233B866950CE59838E0E0C3921FB2DD619F6F8C206F888407B2DD82F0000000AA14B37D4FAD075BB0521F9402EC2DE07062B71EC42F3C07FCF955E6216F8CA801AC206F888407B2DD82F0000001133255963D23A1C1E1996DA636A494757D484F57A50FFF9A1CAC3347C06F8C206F888407B2DD82F0000001BD4709138CD0A91D91EB8D3A3990C255EDAB0676693F3BA219A5892DE16F8CA901AC206F888407B2DD82F0000002D0795EA9C9F44ADF7384FAE0703556CB6AF355CE0E4F3B3C3651BC75A16F8C206F888407B2DD82F00000048DC067BD56C4F3FD0570881AA9C61921589E5C44778E76DE4FF745A3826F8CAA01AC206F888407B2DD82F00000075E39C66720B93EDC78F582FB19FB6FECC391B21285DDB21A86490219236F8C206F888407B2DD82F000000BEBFA2E24777E32D97E660B15C3C1890E1C300E56FD6C28F8D64047BCA56F8CAB01AC206F888407B2DD82F00000134A33F48B983771B5F75B8E10DDBCF8FADFC1C0698349DB135C8949D5C86F8C206F888407B2DD82F000001F362E22B00FB5A48F75C19926A17E8208FBF1CEC080B6040C32C991926D6F8CAC01AC206F888407B2DD82F00000328062173BA7ED16456D1D27377F3B7B03DBB38F2A03FFDF1F8F52DB68356F8C206F888407B2DD82F0000051B69039EBB7A2BAD4E2DEC05E20B9FD0CD7A55DEA84B5E32BC21C6CFAA26F8CAD01AC206F888407B2DD82F000008436F251275F8FD11A4FFBE7959FF57810B358ED1488B5C24B516F4862D76F8C206F888407B2DD82F00000D5ED828B1317328BEF32DAA7F3C0AF751D8AFE4AFF0D6BA577138BB55D796F8CAE01AC206F888407B2DD82F000015A2474DC3A76C25D0982D68F8960A4ED2E3E573813962167C264FAFDC0506F8C206F888407B2DD82F000023011F7674D8DF4E8F8B5B1377D2154624BC9558312A38D0D397886B31DC96F8CAF01AC206F888407B2DD82F000038A366C438804B746023887C70681F94F7A07ACBB2639AE74FBDD81B0DE196F8C206F888407B2DD82F00005BA4863AAD592AC2EFAEE38FE83A34DB1C5D1023E38DD3B8235560863FBE26F8CB001AC206F888407B2DD82F00009447ECFEE5D976374FD26C0C58A2547013FD8AEF95F16E9F731338A14D9FB6F8C206F888407B2DD82F0000EFEC73399332A0FA3F814F9C40DC894B305A9B13797F4257966899278D5DD6F8CB101AC206F888407B2DD82F000184346038790C17318F53BBA8997EDDBB445826030F70B0F7097BD1C8DAFD86F8C206F888407B2DD82F00027420D3720C3EB82BCED50B44DA5B670674B2C11688EFF34E9FE46AF0685B56F8CB201AC206F888407B2DD82F0003F85533AA854ACF5D5E28C6ED73DA44C1B90AE7199860A445A9603CB94358D6F8C206F888407B2DD82F00066C76071C918987892CFDD2324E35ABC82DBDA830215097944944A7A9ABB426F8CB301AC206F888407B2DD82F000A64CB3AC716D456E68B26991FC20FF089E6C88F49B9B13BD9F2A4E462EF0CF6F8C206F888407B2DD82F0010D14141E3A85DDE6FB8246B5210459C5214863779DB01D36E3BE98C0C9AC116F8CB401AC206F888407B2DD82F001B360C7CAABF323556434B0471D2558CDBFB4EC6C394B30F482E8E706F89CE06F8C206F888407B2DD82F002C074DBE8E679013C5FB6F6FC3E29B292E0FD4FE3D6FB4E2B66A77FC7C248F16F8CB501AC206F888407B2DD82F00473D5A3B3926C2491C3EBA7435B4F0B60A0B23C5010467F1FE99066CEBAE5D16F8C206F888407B2DD82F007344A7F9C78E525CE23A29E3F9978BDF381AF8C33E741CD4B5037E6967D2EC26F8CB601AC206F888407B2DD82F00BA82023500B514A5FE78E4582F4C7C9542261C883F7884C6B39C84D653814936F8C206F888407B2DD82F012DC6AA2EC8436702E0B30E3C28E408747A41154B7DECA19B68A0033FBB543556F8CB701AC206F888407B2DD82F01E848AC63C8F87BA8DF2BF29458308509BC6731D3BD6526621C3C88160ED57E86F8C206F888407B2DD82F03160F5692913BE2ABBFDF00D081148D7E36A8471F3B51C7FD84DC8B55CA29B3D6F8CB801AC206F888407B2DD82F04FE5802F65A345E549F0AF364D9451287F30F78F2F8B6EE5FA119136BD8FF3256F8C206F888407B2DD82F0814675988EB7041005EE9F4355A59A00629B7C0123408B65D25F59EC1A328E626F8CB90056206F888407B2DD82F0D12BF5C7F45A49F54FDF4E79A339EB28E1CC739052CBFA4BCC70EB22D7C281876F8C}"
  "B>boc <s PUSHSLICE";

tuple generate_zeroes(int m) inline_ref {
  builder code = begin_cell();
  repeat(m / 16 + 1) {
    code~store_slice("705FF0"s);
  }
  code~store_slice("81"s);
  code~store_int(m, 16);
  code~store_slice("6F80"s);
  var tuple_generator = code.end_cell().begin_parse().bless().unsafe::transmute();
  return tuple_generator();
}

slice truncate_fibonacci(slice sequence, int n) inline_ref {
  int m = n / 2;
  (sequence, m) = impure_touch_dup(sequence, m);
  repeat(m) {
    sequence~load_next();
  }
  sequence~skip_bits((n % 2) * 344);
  return sequence;
}

tuple fill_fibonacci(tuple zeroes, slice sequence) asm
  "BLESS 1 1 CALLXARGS";

tuple take_last(tuple, int) impure asm
  "1 SETGLOB"
  "255 INT UNTUPLEVAR"
  "1 GETGLOB TUPLEVAR"  ;; leaves wasteland
  "ONE ONLYTOPX";

tuple _fibonacci_sequence(int n, int k) inline_ref {
  tuple answer = generate_zeroes(255 - k);
  answer = answer.fill_fibonacci(fibonacci_generator().truncate_fibonacci(n));
  return answer;
}

tuple fibonacci_sequence(int n, int k) method_id {
  return _fibonacci_sequence(n, k).take_last(k);
}

